{
  "post_stream": {
    "posts": [
      {
        "id": 251892,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-09-27T08:23:53.852Z",
        "cooked": "<p>Before starting, it’s a good idea to make a backup. Open a terminal and run<br>\n<code>tar -cvzf ~/signal-backup.tgz ~/.var/app/org.signal.Signal </code></p>\n<p>There are two different database errors:</p>\n<ul>\n<li>\n<p>If you have an error that the keyring backend changed, you might still have all your messages! <a href=\"https://community.signalusers.org/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222#p-251892-database-error-keyring-backend-has-changed-5\">Change back to the system keyring and see if it works.</a></p>\n</li>\n<li>\n<p>If you have a database error that invites you to contact Signal support, <a href=\"https://community.signalusers.org/t/troubleshooting-guide-database-error-after-flatpak-update-from-falthub/63222#p-251892-database-error-a-database-error-has-occurred-6\">you will need to restore your database encryption key from a backup.</a> If you do not have a backup of the key, you cannot recover your message history, and will have to reset Signal desktop.<br>\nDelete your Signal config files and databse with:<br>\n<code>rm -r ~/.var/app/org.signal.Signal</code><br>\nThen run:<br>\n<code> flatpak override --env=SIGNAL_PASSWORD_STORE=basic org.signal.Signal</code><br>\nLaunch signal. You will need to re-link your device.</p>\n</li>\n</ul>\n<p>Messages on your phone are not affected in either case.</p>\n<h2><a name=\"p-251892-what-happened-1\" class=\"anchor\" href=\"#p-251892-what-happened-1\" aria-label=\"Heading link\"></a>What happened?</h2>\n<p>Signal added a feature that lets the database encryption key be stored in the system keyring for greater security. The maintainers of the Flathub package released a build to Flathub with this feature included, but there is a bug where the key cannot be written on GNOME. A fix was pushed, but this broke any installs that had previously successfully migrated to the system keyring.</p>\n<h2><a name=\"p-251892-who-is-affected-2\" class=\"anchor\" href=\"#p-251892-who-is-affected-2\" aria-label=\"Heading link\"></a>Who is affected?</h2>\n<p>If you use the Signal flatpak from Flathub you are potentially affected by one of the issues below.</p>\n<h2><a name=\"p-251892-troubleshooting-3\" class=\"anchor\" href=\"#p-251892-troubleshooting-3\" aria-label=\"Heading link\"></a>Troubleshooting</h2>\n<p>First check whether you have the affected version. Open a terminal and make a backup of the database with</p>\n<p><code>tar -cvzf ~/signal-bu.tgz ~/.var/app/org.signal.Signal</code></p>\n<p>To check which build of signal is installed, run</p>\n<p><code>flatpak info org.signal.Signal</code></p>\n<p>If the commit is</p>\n<blockquote>\n<p>Commit: 295cc3f0e266ecec6a0971cbfeb8559c18d0a12d51116680aa241ec34471afab</p>\n</blockquote>\n<p>then you have the broken version installed. Run <code>flatpak update org.signal.Signal</code></p>\n<p>Any other commit than the one specified above is safe to run.</p>\n<h2><a name=\"p-251892-errors-4\" class=\"anchor\" href=\"#p-251892-errors-4\" aria-label=\"Heading link\"></a>Errors</h2>\n<h3><a name=\"p-251892-database-error-keyring-backend-has-changed-5\" class=\"anchor\" href=\"#p-251892-database-error-keyring-backend-has-changed-5\" aria-label=\"Heading link\"></a>Database error - Keyring Backend has Changed</h3>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://community.signalusers.org/uploads/db3609/original/3X/e/6/e62104353c6b811add673f57ac99083a0b370345.png\" data-download-href=\"https://community.signalusers.org/uploads/db3609/e62104353c6b811add673f57ac99083a0b370345\" title=\"image\"><img src=\"https://community.signalusers.org/uploads/db3609/original/3X/e/6/e62104353c6b811add673f57ac99083a0b370345.png\" alt=\"image\" data-base62-sha1=\"wPOyrHBzHabxMDphLh2h5o0bAON\" width=\"544\" height=\"252\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">544×252 14.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>This means you likely received both updates. Signal wrote your encryption key to the system keyring, but the next update changed Signal back to expect the key to be in plaintext (basic_text).</p>\n<p>First confirm whether the key is really in the keystore. Open Seahorse, also called Passwords and Keys, and look for a relevant entry. The key should be called “Chromium Safe Storage” and have an attribute <code>application: Signal</code>. On KDE there do not seem to be any attributes indicating it is related to Signal.</p>\n<p>You can also do:</p>\n<p><code>secret-tool search application Signal</code></p>\n<p>The output should look like this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://community.signalusers.org/uploads/db3609/original/3X/6/3/63825d027a1d26ed35ecf0c1ef2401d0d301d25b.png\" data-download-href=\"https://community.signalusers.org/uploads/db3609/63825d027a1d26ed35ecf0c1ef2401d0d301d25b\" title=\"image\"><img src=\"https://community.signalusers.org/uploads/db3609/original/3X/6/3/63825d027a1d26ed35ecf0c1ef2401d0d301d25b.png\" alt=\"image\" data-base62-sha1=\"ecizrBuEn0Ml3Ukv7JX7hQw0AiL\" width=\"385\" height=\"154\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">385×154 10.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>If the key is present, we can just tell Signal to go back to using the system keyring. The name of the system keyring will vary depending on your desktop environment. Check the error message to confirm which to use.</p>\n<ul>\n<li><code>gnome-libsecret</code> for X-Cinnamon, Deepin, GNOME, Pantheon, XFCE, UKUI, unity</li>\n<li><code>kwallet</code> for kde4</li>\n<li><code>kwallet5</code> for kde5</li>\n<li><code>kwallet6</code> for kde6</li>\n</ul>\n<p>For example, on GNOME, open a terminal and run:</p>\n<p><code>flatpak override --user --env=SIGNAL_PASSWORD_STORE=gnome-libsecret org.signal.Signal</code></p>\n<p>or open Flatseal, select Signal, scroll down to Environment, and change the environment variable:</p>\n<p><code>SIGNAL_PASSWORD_STORE=basic</code><br>\nto<br>\n<code>SIGNAL_PASSWORD_STORE=gnome-libsecret</code></p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://community.signalusers.org/uploads/db3609/original/3X/6/5/65329a1bc01ce1dbad237e9f5c7ea24358afa1d4.png\" data-download-href=\"https://community.signalusers.org/uploads/db3609/65329a1bc01ce1dbad237e9f5c7ea24358afa1d4\" title=\"image\"><img src=\"https://community.signalusers.org/uploads/db3609/original/3X/6/5/65329a1bc01ce1dbad237e9f5c7ea24358afa1d4.png\" alt=\"image\" data-base62-sha1=\"ereDBqPtLk1RmGD69icut8TIh5a\" width=\"599\" height=\"324\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">599×324 19.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Signal should now work again.</p>\n<h3><a name=\"p-251892-database-error-a-database-error-has-occurred-6\" class=\"anchor\" href=\"#p-251892-database-error-a-database-error-has-occurred-6\" aria-label=\"Heading link\"></a>Database error - A database error has occurred</h3>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://community.signalusers.org/uploads/db3609/original/3X/f/d/fd417d6fc9c3eb98db0bf7b298da77db9463b04e.png\" data-download-href=\"https://community.signalusers.org/uploads/db3609/fd417d6fc9c3eb98db0bf7b298da77db9463b04e\" title=\"image\"><img src=\"https://community.signalusers.org/uploads/db3609/original/3X/f/d/fd417d6fc9c3eb98db0bf7b298da77db9463b04e.png\" alt=\"image\" data-base62-sha1=\"A8p6VgXol5LN0ayprOO8FnJch54\" width=\"545\" height=\"231\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">545×231 14.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>This error appears when Signal cannot decrypt the database. It can happen when Signal encrypts the database key, thinks it wrote the decryption key to the keyring, but actually did not. This currently seems to always happen on GNOME. On next launch, Signal looks in the keyring for the key to decrypt the database key, but doesn’t find it.</p>\n<p>First check whether Signal successfully wrote to the system keystore:</p>\n<p><code>secret-tool search application Signal</code></p>\n<p>Most likely the entry is not present, and the output of secret-tool is blank.</p>\n<p>The database key is stored in <code>~/.var/app/org.signal.Signal/config/Signal/config.json</code></p>\n<p>If config.json contains a line starting with “encryptedKey”, this is your database key, but in an encrypted form. If the decryption key is not in the keyring, your only option is to restore from a backup of config.json.</p>\n<p>An encrypted database key looks like:</p>\n<pre><code class=\"lang-auto\">{\n  \"mediaPermissions\": true,\n  \"encryptedKey\": \"giant_string_of_numbers_and_letters_here\",\n  \"safeStorageBackend\": \"gnome_libsecret\"\n}\n</code></pre>\n<p>If you are lucky enough to have a backup of the config file, you can simply overwrite the encrypted one. A good config with the unencrypted database key looks like:</p>\n<pre><code class=\"lang-auto\">{\n  \"key\": \"64_characters_here\",\n}\n</code></pre>\n<p>Even if you do not have a backup, if you ever installed Signal from another source, like Snap or the .deb repo, you might have another working copy of config.json. Check if <code>~/.config/Signal/config.json</code> exists.</p>\n<p><strong>Make sure</strong> you set Signal to expect a plaintext database key. Run:</p>\n<p><code>flatpak override --user --env=SIGNAL_PASSWORD_STORE=basic org.signal.Signal</code></p>\n<p>or edit the environment variable using Flatseal.</p>\n<p><code>SIGNAL_PASSWORD_STORE=basic</code></p>\n<p>If you do not do this, signal will launch successfully once, but will again try to store the decryption key, fail, and present a database error again next time you start it.</p>\n<h3><a name=\"p-251892-other-issues-7\" class=\"anchor\" href=\"#p-251892-other-issues-7\" aria-label=\"Heading link\"></a>Other issues</h3>\n<p>If your key is in the keyring but you are still getting a database error, run signal from the command line and check that it prints <code>\"Debug: Using password store: gnome-libsecret\"</code></p>\n<p><code>flatpak run org.signal.Signal</code></p>\n<p>More info can be found in the Flathub github: <a href=\"https://github.com/flathub/org.signal.Signal/issues/723\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Database Error · Issue #723 · flathub/org.signal.Signal · GitHub</a></p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-03T08:56:59.022Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3355,
        "reads": 103,
        "readers_count": 102,
        "score": 17040.6,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 23,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/flathub/org.signal.Signal/issues/723",
            "internal": false,
            "reflection": false,
            "title": "Database Error · Issue #723 · flathub/org.signal.Signal · GitHub",
            "clicks": 94
          },
          {
            "url": "https://community.signalusers.org/t/database-error/63214/3",
            "internal": true,
            "reflection": true,
            "title": "Database Error!",
            "clicks": 8
          },
          {
            "url": "https://community.signalusers.org/t/change-in-encryption-keyring-backend/63981/2",
            "internal": true,
            "reflection": true,
            "title": "change in encryption keyring backend",
            "clicks": 2
          },
          {
            "url": "https://community.signalusers.org/t/signal-startup-error-after-update-lmde/63631/5",
            "internal": true,
            "reflection": true,
            "title": "Signal Startup Error After Update (LMDE)",
            "clicks": 0
          },
          {
            "url": "https://community.signalusers.org/t/signal-startup-error-after-update-lmde/63631/2",
            "internal": true,
            "reflection": true,
            "title": "Signal Startup Error After Update (LMDE)",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 13
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 251902,
        "name": "Petr",
        "username": "pe.hav",
        "avatar_template": "/letter_avatar_proxy/v4/letter/p/50afbb/{size}.png",
        "created_at": "2024-09-27T12:25:47.604Z",
        "cooked": "<p>Great tutorial, thanks!<br>\nThe update command is without ‘sudo’.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-27T12:25:47.604Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 82,
        "readers_count": 81,
        "score": 51.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "Petr",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 29554,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 251923,
        "name": "Mr Figtree",
        "username": "Mr_Figtree",
        "avatar_template": "/user_avatar/community.signalusers.org/mr_figtree/{size}/48960_2.png",
        "created_at": "2024-09-27T14:52:13.922Z",
        "cooked": "<p>With the latest version, which no longer tries to use libsecret, it <span class=\"bbcode-i\">should</span> now be safe to update. It’s working for me on Fedora 40. Make a backup first!</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-27T14:52:29.742Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 10,
        "reads": 80,
        "readers_count": 79,
        "score": 66.0,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "Mr Figtree",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 29556,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252359,
        "name": "Matheus",
        "username": "Cybercountry",
        "avatar_template": "/user_avatar/community.signalusers.org/cybercountry/{size}/43909_2.png",
        "created_at": "2024-09-28T17:44:56.220Z",
        "cooked": "<p>Amazing tutorial, thanks</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-28T17:44:56.220Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 65,
        "readers_count": 64,
        "score": 68.0,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "Matheus",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 26414,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252709,
        "name": "db",
        "username": "fe_fen",
        "avatar_template": "/letter_avatar_proxy/v4/letter/f/71c47a/{size}.png",
        "created_at": "2024-09-29T23:20:00.018Z",
        "cooked": "<p>Hey thanks for this excellent tutorial. I have the entry for signal in seahorse, and also see Debug: Using password store: gnome-libsecret when I run signal from the terminal, but I still get the <code>Database error - A database error has occurred</code> issue. Do you have any advice, by any chance?</p>\n<p>Also worth noting that the output of <code>secret-tool search application org.signal.Signal</code> for me is blank, despite the fact that seahorse shows an entry for <code>org.signal.Signal</code>… So this probably relates to my issue somehow.</p>\n<p>many thx</p>\n<p>update: I managed to resolve this due to finding an unintentional backup of my config file located at ~/.config/Signal/config.json from when I used to use a non-flatpak version of Signal, whereas my current config file (which only conatined the encrypted key) is located at ~/.var/app/org.signal.Signal/config/Signal/config.json.</p>\n<p>This may be helpful to anyone who previously used a non-flatpak signal package before switching to flatkpak, or vice versa, due to different package formats using different config file paths.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T01:43:44.954Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 15,
        "reads": 62,
        "readers_count": 61,
        "score": 92.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "db",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30259,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": "A post was merged in by Herohtar",
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252723,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-09-30T08:07:54.312Z",
        "cooked": "<p>Glad you got that sorted! I added the suggestion to check for config.json in other directories.</p>\n<p>The <code>org.signal.Signal</code> entry is an incorrect one created by the broken Signal update. Theoretically it might contain the decryption key, but I haven’t figured out if it’s possible to extract it. If anyone wants to take a crack at it it would be a huge help. More info here: <a href=\"https://github.com/flathub/org.signal.Signal/pull/756\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Build libsecret without gcrypt by bbhtt · Pull Request #756 · flathub/org.signal.Signal · GitHub</a></p>\n<p>The correct keyring entry is the one with <code>application Signal</code> in it, and should show up when running <code>secret-tool search application Signal</code></p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T08:07:54.312Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 54,
        "readers_count": 53,
        "score": 10.8,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/flathub/org.signal.Signal/pull/756",
            "internal": false,
            "reflection": false,
            "title": "Build libsecret without gcrypt by bbhtt · Pull Request #756 · flathub/org.signal.Signal · GitHub",
            "clicks": 6
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30259,
          "username": "fe_fen",
          "name": "db",
          "avatar_template": "/letter_avatar_proxy/v4/letter/f/71c47a/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252734,
        "name": "",
        "username": "desperatetimes",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png",
        "created_at": "2024-09-30T11:21:45.974Z",
        "cooked": "<p>Hi, thanks very much for this guide.</p>\n<p>I’ve tried everything (on Linux Mint) that you suggested but because Timeshift doesn’t backup the /home/[user] directory by default, my config.json only has the encryptedKey variable, even when I rolled back to a date when Signal was working.</p>\n<p>The only thing that has come close to working is that I’ve found an unlabelled “Password or Secret” in Seahorse with app_id org.signal.Signal. Here is the password <strong>with most of the meaningful characters changed</strong> but in exactly the same format:</p>\n<p><code>\\Uffffffff\\ua485xK&lt;@\\Uffffffff\\Uffffffff\\Uffffffff\\Uffffffff\\Uffffffff\\u496d7\\Uffffffff\\UffffffffH6\\u9d51\\Uffffffff\\Uffffffff2E\\Uffffffff\\Uffffffff\\Uffffffff6\\u0335\\Uffffffff\\Uffffffff\\Uffffffff\\Uffffffff\\Uffffffff</code></p>\n<p>Could this be the unencrypted database key? I thought it was Unicode at first but it doesn’t seem to be so I don’t know how to decode it to 64 characters or if that’s even possible.</p>\n<p>If anyone could help me (even if it’s simply to confirm absolutely that I’m never getting access to that Signal database again!) I’d be very grateful. Thanks.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T11:21:45.974Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 12,
        "reads": 52,
        "readers_count": 51,
        "score": 80.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30264,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252739,
        "name": null,
        "username": "sectrana",
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/f475e1/{size}.png",
        "created_at": "2024-09-30T14:41:13.524Z",
        "cooked": "<p>I set the flatpak override to gnome-libsecret, which lets me launch and link the app once. On the next launch, it fails again with the same error.</p>\n<p>secret-tool returns no application Signal results. It appears the key never makes it into the keystore.</p>\n<p>I could launch with basic store but it’s not recommended.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://community.signalusers.org/uploads/db3609/original/3X/f/6/f67e275dbc6b19a0368f2b0874d8716ad6dd7b54.png\" data-download-href=\"https://community.signalusers.org/uploads/db3609/f67e275dbc6b19a0368f2b0874d8716ad6dd7b54\" title=\"image\"><img src=\"https://community.signalusers.org/uploads/db3609/original/3X/f/6/f67e275dbc6b19a0368f2b0874d8716ad6dd7b54.png\" alt=\"image\" data-base62-sha1=\"zazJWbTNjt6TqptLgGAbxZa6v1a\" width=\"690\" height=\"345\" data-dominant-color=\"3B3A3A\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">700×351 33.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Is there any way to get this to work with gnome-libsecret? What about using the deb install instead of flatpak? (I’m on Ubuntu)</p>\n<p>I have no problems starting fresh with no restore of chat history or any settings.</p>\n<p>UPDATE: It does appear the deb install (7.26.0) is working with gnome-libsecret. No more issues launching and secret-tool does show the key now for me.</p>\n<p>Perhaps flathub is just behind and the flatpak install will get this update eventually.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T15:33:04.716Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 17,
        "reads": 51,
        "readers_count": 50,
        "score": 100.2,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30267,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252743,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-09-30T15:33:14.103Z",
        "cooked": "<p>No, gnome-libsecret is currently broken on Flatpak. Just use basic, it’s been the default for years.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T15:33:14.103Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 41,
        "readers_count": 40,
        "score": 63.2,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30267,
          "username": "sectrana",
          "name": null,
          "avatar_template": "/letter_avatar_proxy/v4/letter/s/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252744,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-09-30T15:34:06.367Z",
        "cooked": "<p>See the post above yours. It’s maybe decryptable, but I haven’t had the time to track down how.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T15:34:06.367Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 42,
        "readers_count": 41,
        "score": 33.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30264,
          "username": "desperatetimes",
          "name": "",
          "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252745,
        "name": null,
        "username": "sectrana",
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/f475e1/{size}.png",
        "created_at": "2024-09-30T15:34:20.881Z",
        "cooked": "<p>Right, it’s probably fine. I just wanted the new feature. I did confirm it’s working now using the deb install. Flatpak is a little behind but the fix should come eventually.</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T15:34:20.881Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 41,
        "readers_count": 40,
        "score": 28.2,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 8472,
          "username": "Grevvy",
          "name": "",
          "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30267,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252746,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-09-30T15:35:11.231Z",
        "cooked": "<p>If you want to continue using the flatpak you can get the testing fixed version from here: <a href=\"https://github.com/flathub/org.signal.Signal/pull/756\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Build libsecret without gcrypt by bbhtt · Pull Request #756 · flathub/org.signal.Signal · GitHub</a></p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T15:35:32.824Z",
        "reply_count": 0,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 41,
        "readers_count": 40,
        "score": 38.2,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/flathub/org.signal.Signal/pull/756",
            "internal": false,
            "reflection": false,
            "title": "Build libsecret without gcrypt by bbhtt · Pull Request #756 · flathub/org.signal.Signal · GitHub",
            "clicks": 19
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30267,
          "username": "sectrana",
          "name": null,
          "avatar_template": "/letter_avatar_proxy/v4/letter/s/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252747,
        "name": "",
        "username": "desperatetimes",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png",
        "created_at": "2024-09-30T16:00:02.832Z",
        "cooked": "<p>Thanks a lot. I’ll keep an eye on these various threads.</p>\n<p>I worked too long trying to solve this and didn’t want to miss new incoming messages any more so I had to do a Signal Linux reinstall which works fine but with old messages missing.</p>\n<p>I did keep a backup of the original <code>org.signal.Signal</code> folder as you suggested and also kept the real version of the obfuscated key I posted here so I’m still holding out a little hope. Thank for your hard work!</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-09-30T16:00:02.832Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 44,
        "readers_count": 43,
        "score": 23.8,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30264,
          "username": "desperatetimes",
          "name": "",
          "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30264,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252786,
        "name": "",
        "username": "hurlsworth",
        "avatar_template": "/user_avatar/community.signalusers.org/hurlsworth/{size}/49015_2.png",
        "created_at": "2024-10-01T05:22:21.794Z",
        "cooked": "<p>I can’t seem to get it to work. When I run with flatseal indicating SIGNAL_PASSWORD_STORE=basic, I get the database error and can only quit. When I change it back to SIGNAL_PASSWORD_STORE=gnome-libsecret, I am given the option to quit or delete the database and restart. If I delete the database and restart, it has restarted with using gnome-libsecret. If I quit before linking the device and restart, it fails with quit-or-delete. If I change it to SIGNAL_PASSWORD_STORE=basic, I get the database error with only quitting as an option. The only thing I can do now is start it with SIGNAL_PASSWORD_STORE=gnome-libsecret, link it, restore my contacts, do some messaging, and then know it will all be deleted and corrupted when I restart Signal again no matter what I do.</p>\n<p>Does this mean the flathub version is completely broken on gnome? Or am I doing something wrong? Have all the subsequent versions from the 295xxx commit that broke it insufficiently working?</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T05:24:06.806Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 41,
        "readers_count": 40,
        "score": 38.2,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30276,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252788,
        "name": "",
        "username": "Deskwork",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/d2c977/{size}.png",
        "created_at": "2024-10-01T06:27:37.160Z",
        "cooked": "<p>If you are fine with deleting the database and starting from scratch, I suspect that re-installing the flatpak should work for you. I’m not sure if it works, but you could try:</p>\n<ol>\n<li><code>flatpak uninstall --delete-data org.signal.Signal</code></li>\n<li><code>flatpak install flathub org.signal.Signal</code></li>\n<li>Set the password store to basic, as shown in this guide</li>\n<li>Start a new db from scratch</li>\n</ol>",
        "post_number": 16,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T06:27:37.160Z",
        "reply_count": 1,
        "reply_to_post_number": 15,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 40,
        "readers_count": 39,
        "score": 23.0,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30276,
          "username": "hurlsworth",
          "name": "",
          "avatar_template": "/user_avatar/community.signalusers.org/hurlsworth/{size}/49015_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 24784,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/16",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252791,
        "name": null,
        "username": "updateVector",
        "avatar_template": "/letter_avatar_proxy/v4/letter/u/9de0a6/{size}.png",
        "created_at": "2024-10-01T07:11:39.910Z",
        "cooked": "<p>I’m running flatpak installed on a whonix-17-workstation template on Qubes 4.2.3. org.signal.Signal is installed on the template.<br>\nSignal Desktop Data is stored on the AppVM based on the whonix-workstation-17 template with flatpak.</p>\n<p>Signal Desktop was running fine for months until I was running into the database error as indicated <a href=\"https://community.signalusers.org/t/warning-do-not-update-from-flathub-database-error/63222#p-251892-database-error-a-database-error-has-occurred-6\">on the gui here</a> after updating org.signal.Signal in my TemplateVM.</p>\n<pre><code class=\"lang-auto\">[workstation user ~]% uname -a\nLinux host 6.6.48-1.qubes.fc37.x86_64 #1 SMP PREEMPT_DYNAMIC Wed Sep  4 01:09:59 GMT 2024 x86_64 GNU/Linux\n</code></pre>\n<p>After updating flatpak in the template, my signal broke with the Database error - A database error has occurred message. Could’nt copy error message into clipboard after closing the gui message due to qubes clipboard restrictions.</p>\n<p>I’m currently running<br>\n<code>Commit: 2d3107e48d9f49cbcc0c1667448b7c3429dab28176daf066b2eb33f79e121c45</code></p>\n<p>I checked <code>~/.var/app/org.signal.Signal/config/Signal/config.json</code> and it does contain an unencrypted database key:</p>\n<p><code>{   \"key\": \"64-Characters-here\",   \"mediaPermissions\": true,   \"mediaCameraPermissions\": true }% </code></p>\n<p>Running <code>flatpak override --user --env=SIGNAL_PASSWORD_STORE=basic org.signal.Signal</code> and then <code>flatpak run org.signal.Signal</code> gets me the following:</p>\n<pre><code class=\"lang-auto\">[workstation user ~]% flatpak run org.signal.Signal             \nDebug: Using password store: basic\nDebug: Will run signal with the following arguments: --password-store=basic\nDebug: Additionally, user gave: --debug\nSet Windows Application User Model ID (AUMID) { AUMID: 'org.whispersystems.signal-desktop' }\nNODE_ENV production\nNODE_CONFIG_DIR /app/Signal/resources/app.asar/config\nNODE_CONFIG {}\nALLOW_CONFIG_MUTATIONS undefined\nHOSTNAME host\nNODE_APP_INSTANCE undefined\nSUPPRESS_NO_CONFIG_WARNING undefined\nSIGNAL_ENABLE_HTTP undefined\nuserData: /home/user/.var/app/org.signal.Signal/config/Signal\nconfig/get: Successfully read user config file\nconfig/get: Successfully read ephemeral config file\nmaking app single instance\nLaunchProcess: failed to execvp:\nxdg-settings\nLaunchProcess: failed to execvp:\nxdg-settings\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.189Z\",\"msg\":\"got fast localeOverride setting null\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.191Z\",\"msg\":\"app.ready: hour cycle preference: UnknownPreference\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.191Z\",\"msg\":\"app.ready: preferred system locales: en-US, en\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.212Z\",\"msg\":\"locale: Supported locales: af-ZA, ar, az-AZ, bg-BG, bn-BD, bs-BA, ca, cs, da, de, el, en, es, et-EE, eu, fa-IR, fi, fr, ga-IE, gl-ES, gu-IN, he, hi-IN, hr-HR, hu, id, it, ja, ka-GE, kk-KZ, km-KH, kn-IN, ko, ky-KG, lt-LT, lv-LV, mk-MK, ml-IN, mr-IN, ms, my, nb, nl, pa-IN, pl, pt-BR, pt-PT, ro-RO, ru, sk-SK, sl-SI, sq-AL, sr, sv, sw, ta-IN, te-IN, th, tl-PH, tr, ug, uk-UA, ur, vi, yue, zh-CN, zh-HK, zh-Hant\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.213Z\",\"msg\":\"locale: Preferred locales: en-US, en\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.213Z\",\"msg\":\"locale: Locale Override: null\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.222Z\",\"msg\":\"locale: Matched locale: en\"}\n{\"level\":40,\"time\":\"2024-10-01T06:45:33.882Z\",\"msg\":\"intl.onWarn [@formatjs/intl] \\\"defaultRichTextElements\\\" was specified but \\\"message\\\" was not pre-compiled. \\nPlease consider using \\\"@formatjs/cli\\\" to pre-compile your messages for performance.\\nFor more details see https://formatjs.io/docs/getting-started/message-distribution\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.884Z\",\"msg\":\"locale: Text info direction for en: ltr\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.897Z\",\"msg\":\"getSQLKey: using legacy key\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.908Z\",\"msg\":\"getSystemTraySetting got value DoNotUseSystemTray\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.908Z\",\"msg\":\"getSystemTraySetting returning DoNotUseSystemTray\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.934Z\",\"msg\":\"app ready\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.946Z\",\"msg\":\"starting version 7.24.1\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.947Z\",\"msg\":\"media access status [object Undefined] [object Undefined]\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:33.953Z\",\"msg\":\"got fast theme-setting value dark\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:34.053Z\",\"msg\":\"got fast theme-setting value dark\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:34.054Z\",\"msg\":\"got fast spellcheck setting true\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:34.055Z\",\"msg\":\"Initializing BrowserWindow config: {\\\"show\\\":false,\\\"width\\\":1366,\\\"height\\\":713,\\\"minWidth\\\":300,\\\"minHeight\\\":200,\\\"autoHideMenuBar\\\":false,\\\"titleBarStyle\\\":\\\"default\\\",\\\"backgroundColor\\\":\\\"#121212\\\",\\\"webPreferences\\\":{\\\"devTools\\\":false,\\\"spellcheck\\\":true,\\\"enableBlinkFeatures\\\":\\\"CSSPseudoDir,CSSLogical\\\",\\\"enablePreferredSizeMode\\\":true,\\\"nodeIntegration\\\":false,\\\"nodeIntegrationInWorker\\\":false,\\\"sandbox\\\":false,\\\"contextIsolation\\\":true,\\\"preload\\\":\\\"[REDACTED]/preload.bundle.js\\\",\\\"backgroundThrottling\\\":true,\\\"disableBlinkFeatures\\\":\\\"Accelerated2dCanvas,AcceleratedSmallCanvases\\\"},\\\"icon\\\":\\\"[REDACTED]/images/signal-logo-desktop-linux.png\\\",\\\"x\\\":0,\\\"y\\\":55}\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:35.898Z\",\"msg\":\"spellcheck: user locales: [\\\"en-US\\\",\\\"en\\\"]\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:35.898Z\",\"msg\":\"spellcheck: available spellchecker languages: [\\\"af\\\",\\\"bg\\\",\\\"ca\\\",\\\"cs\\\",\\\"cy\\\",\\\"da\\\",\\\"de\\\",\\\"de-DE\\\",\\\"el\\\",\\\"en\\\",\\\"en-AU\\\",\\\"en-CA\\\",\\\"en-GB\\\",\\\"en-GB-oxendict\\\",\\\"en-US\\\",\\\"es\\\",\\\"es-419\\\",\\\"es-AR\\\",\\\"es-ES\\\",\\\"es-MX\\\",\\\"es-US\\\",\\\"et\\\",\\\"fa\\\",\\\"fo\\\",\\\"fr\\\",\\\"fr-FR\\\",\\\"he\\\",\\\"hi\\\",\\\"hr\\\",\\\"hu\\\",\\\"hy\\\",\\\"id\\\",\\\"it\\\",\\\"it-IT\\\",\\\"ko\\\",\\\"lt\\\",\\\"lv\\\",\\\"nb\\\",\\\"nl\\\",\\\"pl\\\",\\\"pt\\\",\\\"pt-BR\\\",\\\"pt-PT\\\",\\\"ro\\\",\\\"ru\\\",\\\"sh\\\",\\\"sk\\\",\\\"sl\\\",\\\"sq\\\",\\\"sr\\\",\\\"sv\\\",\\\"ta\\\",\\\"tg\\\",\\\"tr\\\",\\\"uk\\\",\\\"vi\\\"]\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:35.898Z\",\"msg\":\"spellcheck: setting languages to: [\\\"en-US\\\",\\\"en\\\"]\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:35.901Z\",\"msg\":\"MainSQL: migrateDatabase: Migration without cipher change failed\"}\n{\"level\":50,\"time\":\"2024-10-01T06:45:35.902Z\",\"msg\":\"MainSQL: Database startup error: Error: ENOENT, node_modules/@signalapp/better-sqlite3/build/Release/better_sqlite3.node not found in [REDACTED]\\n    at createError (node:electron/js2c/node_init:2:2002)\\n    at Object.func [as .node] (node:electron/js2c/node_init:2:2721)\\n    at Module.load (node:internal/modules/cjs/loader:1215:32)\\n    at Module._load (node:internal/modules/cjs/loader:1031:12)\\n    at c._load (node:electron/js2c/node_init:2:17025)\\n    at Module.require (node:internal/modules/cjs/loader:1240:19)\\n    at require (node:internal/modules/helpers:179:18)\\n    at bindings ([REDACTED]/node_modules/bindings/bindings.js:112:48)\\n    at new Database ([REDACTED]/node_modules/@signalapp/better-sqlite3/lib/database.js:48:64)\\n    at openAndMigrateDatabase ([REDACTED]/ts/sql/Server.js:432:8)\"}\n{\"level\":50,\"time\":\"2024-10-01T06:45:35.910Z\",\"msg\":\"Failed to get zoom factor {\\\"name\\\":\\\"Error\\\"}\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:41.503Z\",\"msg\":\"got fast theme-setting value dark\"}\n{\"level\":50,\"time\":\"2024-10-01T06:45:42.307Z\",\"msg\":\"Preload error in [REDACTED]/preload.bundle.js:  ENOENT, node_modules/@signalapp/libsignal-client/prebuilds/linux-x64/@signalapp+libsignal-client.node not found in [REDACTED]\"}\n{\"level\":50,\"time\":\"2024-10-01T06:45:42.707Z\",\"msg\":\"sql.initialize was unsuccessful; returning early\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:42.709Z\",\"msg\":\"close event {\\\"readyForShutdown\\\":false,\\\"shouldQuit\\\":false}\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:42.709Z\",\"msg\":\"maybeRequestCloseConfirmation: Checking to see if close confirmation is needed\"}\n{\"level\":50,\"time\":\"2024-10-01T06:45:46.437Z\",\"msg\":\"onDatabaseError: Quitting application\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:46.483Z\",\"msg\":\"main window closed event\"}\n{\"level\":30,\"time\":\"2024-10-01T06:45:46.484Z\",\"msg\":\"quit event {\\\"hasEventBeenPrevented\\\":false,\\\"windowCount\\\":0,\\\"mainWindowExists\\\":false}\"}\nzsh: exit 1     flatpak run org.signal.Signal\n\n</code></pre>\n<p>Running it again gets me:</p>\n<pre><code class=\"lang-auto\">[workstation user ~]% flatpak run org.signal.Signal        \nDebug: Using password store: basic\nDebug: Will run signal with the following arguments: --password-store=basic\nDebug: Additionally, user gave: \nA JavaScript error occurred in the main process\nUncaught Exception:\nError: ENOENT, node_modules/@signalapp/libsignal-client/prebuilds/linux-x64/@signalapp+libsignal-client.node not found in /app/Signal/resources/app.asar\n    at createError (node:electron/js2c/node_init:2:2002)\n    at Object.func [as .node] (node:electron/js2c/node_init:2:2721)\n    at Module.load (node:internal/modules/cjs/loader:1215:32)\n    at Module._load (node:internal/modules/cjs/loader:1031:12)\n    at c._load (node:electron/js2c/node_init:2:17025)\n    at Module.require (node:internal/modules/cjs/loader:1240:19)\n    at require (node:internal/modules/helpers:179:18)\n    at load (/app/Signal/resources/app.asar/node_modules/node-gyp-build/node-gyp-build.js:22:10)\n    at Object.&lt;anonymous&gt; (/app/Signal/resources/app.asar/node_modules/@signalapp/libsignal-client/Native.js:6:43)\n    at Module._compile (node:internal/modules/cjs/loader:1373:14)\n[40:1001/064653.900916:ERROR:viz_main_impl.cc(166)] Exiting GPU process due to errors during initialization\n^C\nzsh: interrupt  flatpak run org.signal.Signal\n[2 preload-host-spawn-strategy] Dropping 0x2c4800108d80 (3) because of connection closed\n[2:1001/064753.478024:FATAL:bus.cc(1246)] D-Bus connection was disconnected. Aborting.\n</code></pre>\n<p>I did a backup of my AppVM before doing flatpak override. I still do have a 2 months old backup of my TemplateVM and AppVM but of reach atm.</p>\n<p>Fyi whonix-17-workstation doesn’t have <code>gnome-keyring</code> nor <code>libsecret-tools</code> installed.</p>\n<p>Any suggestions?</p>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T07:16:23.060Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 14,
        "reads": 42,
        "readers_count": 41,
        "score": 83.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30263,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252793,
        "name": "",
        "username": "desperatetimes",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png",
        "created_at": "2024-10-01T08:01:30.583Z",
        "cooked": "<p>Yes, I confirm that this works (though I used a software manager to remove Signal). I then manually deleted the org.signal.Signal folder (keeping a .tgz backup) and installed the latest available Signal Flatpak on the software manager.</p>\n<p>On first boot of Signal it asked if I was ok to use a basic unencrypted password. I clicked Yes, relinked my phone and everything works smoothly again. Very quick and easy but unfortunately all previous messages are gone from Signal Desktop. It’s not a catastrophe once you accept your fate ;)</p>",
        "post_number": 18,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T08:03:45.899Z",
        "reply_count": 0,
        "reply_to_post_number": 16,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 32,
        "readers_count": 31,
        "score": 56.4,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 24784,
          "username": "Deskwork",
          "name": "",
          "avatar_template": "/letter_avatar_proxy/v4/letter/d/d2c977/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30264,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/18",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252798,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-10-01T09:16:45.378Z",
        "cooked": "<p>I can only suggest trying again, making sure the unencrypted key (keep a copy of it somewhere!) is in your config file when Signal is started with the password store set to basic. Your first log indicates the database couldn’t be opened which usually happens when the encrypted key is read, the second log seems unrelated.</p>\n<p>Also check which commit you’re on with <code>flatpak info org.signal.Signal</code></p>",
        "post_number": 19,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T09:16:45.378Z",
        "reply_count": 0,
        "reply_to_post_number": 17,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 40,
        "readers_count": 39,
        "score": 18.0,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30263,
          "username": "updateVector",
          "name": null,
          "avatar_template": "/letter_avatar_proxy/v4/letter/u/9de0a6/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/19",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252820,
        "name": "Gunwald",
        "username": "gunwald",
        "avatar_template": "/user_avatar/community.signalusers.org/gunwald/{size}/49010_2.png",
        "created_at": "2024-10-01T15:36:51.216Z",
        "cooked": "<p>Just a quick sum up for me and others to understand:</p>\n<p>If you don’t have a backup of your <code> ~/.var/app/org.signal.Signal/config/Signal/config.json</code> by coincidence, where the unencrypted key might still be stored, your literally just lost all your Signal data.</p>\n<p>If you have an unnamed key stored in Gnome keyring with the app_id <code>org.signal.Signal</code> formatted similar to the one mentioned in <a href=\"https://community.signalusers.org/t/warning-do-not-update-from-flathub-database-error/63222/8\">this post</a> your key might be recoverable but no one knows for sure and nobody has the skill or time to investigate at the moment.</p>\n<p>What a cluster!</p>",
        "post_number": 20,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T15:37:05.519Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 40,
        "readers_count": 39,
        "score": 103.0,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "Gunwald",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 30269,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/20",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 252827,
        "name": "",
        "username": "Grevvy",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "created_at": "2024-10-01T17:08:07.319Z",
        "cooked": "<p>Just to add to the summary, there are two similar errors.</p>\n<p>If you have an error that the keyring backend changed, you might still have all your messages! Change back to the system keyring and see if it works.</p>\n<p>If you have a database error that invites you to contact Signal support, the above applies.</p>",
        "post_number": 21,
        "post_type": 1,
        "posts_count": 43,
        "updated_at": "2024-10-01T17:08:07.319Z",
        "reply_count": 0,
        "reply_to_post_number": 20,
        "quote_count": 0,
        "incoming_link_count": 18,
        "reads": 38,
        "readers_count": 37,
        "score": 97.6,
        "yours": false,
        "topic_id": 63222,
        "topic_slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 30269,
          "username": "gunwald",
          "name": "Gunwald",
          "avatar_template": "/user_avatar/community.signalusers.org/gunwald/{size}/49010_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8472,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/troubleshooting-guide-database-error-after-flatpak-update-from-flathub/63222/21",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      251892,
      251902,
      251923,
      252359,
      252709,
      252723,
      252734,
      252739,
      252743,
      252744,
      252745,
      252746,
      252747,
      252786,
      252788,
      252791,
      252793,
      252798,
      252820,
      252827,
      252919,
      252920,
      252923,
      252924,
      252925,
      252926,
      252928,
      252930,
      252931,
      253276,
      253278,
      253285,
      253439,
      253543,
      254468,
      254469,
      254470,
      254662,
      254675,
      254692,
      254693,
      254960,
      259975
    ]
  },
  "timeline_lookup": [
    [
      1,
      506
    ],
    [
      2,
      505
    ],
    [
      4,
      504
    ],
    [
      5,
      503
    ],
    [
      7,
      502
    ],
    [
      18,
      501
    ],
    [
      21,
      499
    ],
    [
      30,
      492
    ],
    [
      33,
      490
    ],
    [
      34,
      489
    ],
    [
      35,
      476
    ],
    [
      38,
      472
    ],
    [
      39,
      471
    ],
    [
      42,
      466
    ],
    [
      43,
      381
    ]
  ],
  "tags_descriptions": {},
  "fancy_title": "Troubleshooting Guide: Database Error after Flatpak Update from Flathub",
  "id": 63222,
  "title": "Troubleshooting Guide: Database Error after Flatpak Update from Flathub",
  "posts_count": 43,
  "created_at": "2024-09-27T08:23:53.794Z",
  "views": 4353,
  "reply_count": 25,
  "like_count": 30,
  "last_posted_at": "2025-01-29T15:19:57.288Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "troubleshooting-guide-database-error-after-flatpak-update-from-flathub",
  "category_id": 15,
  "word_count": 5772,
  "deleted_at": null,
  "user_id": 8472,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://community.signalusers.org/uploads/db3609/original/3X/e/6/e62104353c6b811add673f57ac99083a0b370345.png",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_63222",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 44,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 17,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 544,
      "height": 252,
      "url": "https://community.signalusers.org/uploads/db3609/original/3X/e/6/e62104353c6b811add673f57ac99083a0b370345.png"
    }
  ],
  "slow_mode_enabled_until": null,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 8472,
        "username": "Grevvy",
        "name": "",
        "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png",
        "post_count": 19,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 13403,
        "username": "pangyuehung",
        "name": null,
        "avatar_template": "/letter_avatar_proxy/v4/letter/p/6f9a4e/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 30264,
        "username": "desperatetimes",
        "name": "",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/ba9def/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 30267,
        "username": "sectrana",
        "name": null,
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/f475e1/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30303,
        "username": "Lionola_Ayun",
        "name": "",
        "avatar_template": "/user_avatar/community.signalusers.org/lionola_ayun/{size}/49043_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30304,
        "username": "notklaatu",
        "name": "Klaatu",
        "avatar_template": "/user_avatar/community.signalusers.org/notklaatu/{size}/49044_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 14796,
        "username": "MindlessDistance",
        "name": "",
        "avatar_template": "/letter_avatar_proxy/v4/letter/m/a3d4f5/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 30269,
        "username": "gunwald",
        "name": "Gunwald",
        "avatar_template": "/user_avatar/community.signalusers.org/gunwald/{size}/49010_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30276,
        "username": "hurlsworth",
        "name": "",
        "avatar_template": "/user_avatar/community.signalusers.org/hurlsworth/{size}/49015_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30302,
        "username": "encrypted",
        "name": null,
        "avatar_template": "/letter_avatar_proxy/v4/letter/e/bc79bd/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30546,
        "username": "wie-was",
        "name": "Wie Was",
        "avatar_template": "/user_avatar/community.signalusers.org/wie-was/{size}/49358_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 24784,
        "username": "Deskwork",
        "name": "",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/d2c977/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 26414,
        "username": "Cybercountry",
        "name": "Matheus",
        "avatar_template": "/user_avatar/community.signalusers.org/cybercountry/{size}/43909_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 29554,
        "username": "pe.hav",
        "name": "Petr",
        "avatar_template": "/letter_avatar_proxy/v4/letter/p/50afbb/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 29556,
        "username": "Mr_Figtree",
        "name": "Mr Figtree",
        "avatar_template": "/user_avatar/community.signalusers.org/mr_figtree/{size}/48960_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 30259,
        "username": "fe_fen",
        "name": "db",
        "avatar_template": "/letter_avatar_proxy/v4/letter/f/71c47a/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 30263,
        "username": "updateVector",
        "name": null,
        "avatar_template": "/letter_avatar_proxy/v4/letter/u/9de0a6/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 8472,
      "username": "Grevvy",
      "name": "",
      "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png"
    },
    "last_poster": {
      "id": 8472,
      "username": "Grevvy",
      "name": "",
      "avatar_template": "/letter_avatar_proxy/v4/letter/g/53a042/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/flathub/org.signal.Signal/issues/723",
        "title": "Database Error · Issue #723 · flathub/org.signal.Signal · GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 94,
        "user_id": 8472,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/flathub/org.signal.Signal/pull/756",
        "title": "Build libsecret without gcrypt by bbhtt · Pull Request #756 · flathub/org.signal.Signal · GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 53,
        "user_id": 8472,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://signal.org/blog/a-synchronized-start-for-linked-devices/",
        "title": "Signal >> Blog >> A Synchronized Start for Linked Devices",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 15,
        "user_id": 8472,
        "domain": "signal.org",
        "root_domain": "signal.org"
      },
      {
        "url": "https://community.signalusers.org/t/database-error/63214/3",
        "title": "Database Error!",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 8,
        "user_id": 8472,
        "domain": "community.signalusers.org",
        "root_domain": "signalusers.org"
      },
      {
        "url": "https://flathub.org/apps/app.drey.KeyRack",
        "title": "Install Key Rack on Linux | Flathub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 8472,
        "domain": "flathub.org",
        "root_domain": "flathub.org"
      },
      {
        "url": "https://community.signalusers.org/t/change-in-encryption-keyring-backend/63981/2",
        "title": "change in encryption keyring backend",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 2,
        "user_id": 2521,
        "domain": "community.signalusers.org",
        "root_domain": "signalusers.org"
      },
      {
        "url": "https://github.com/flathub/org.signal.Signal/issues/753#issuecomment-2380862155",
        "title": "Signal encryption keyring changed from gnome_libsecret to basic_text · Issue #753 · flathub/org.signal.Signal · GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 13403,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://community.signalusers.org/t/database-error/63214/13",
        "title": "Database Error!",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 1,
        "user_id": 8472,
        "domain": "community.signalusers.org",
        "root_domain": "signalusers.org"
      }
    ]
  },
  "bookmarks": []
}