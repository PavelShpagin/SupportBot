{
  "post_stream": {
    "posts": [
      {
        "id": 264569,
        "name": "",
        "username": "mrandr01d",
        "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png",
        "created_at": "2025-03-28T00:17:40.676Z",
        "cooked": "<p>This might be a dumb question, but I want to make sure I understand how signal currently works. Let’s say a user has a main phone and a linked desktop. The linked desktop sits at home all day while the user is out and about texting on their phone, and they turn on disappearing messages, for say an hour.</p>\n<p>Each message has to be received in order and decrypted locally, as I understand it, meaning messages that disappeared long ago on the phone can still appear on the laptop after the laptop is brought back online and downloads everything. This was mostly fixed years ago by also having read receipts be used to make sure linked clients knew a message’s disappearing timer has expired and the message should be deleted from the local database.</p>\n<p>I recently found out media attachments, like pictures, aren’t regular signal messages. They’re instead encrypted and uploaded to a server, and the actual message sent is a secret download link to get and decrypt the file. This is why pictures sometimes load for a minute after opening them. Those encrypted uploads are kept for 45 days on the server. (Side question: are voice messages considered media attachments?)</p>\n<p>So let’s say our user above is sending pictures all day back and forth, with a 1 hr timer, and when they get home, they connect their laptop to the WiFi again, and it starts downloading all the messages queued on the server and decrypting them. Presumably - correct me if I’m wrong - any pictures would instead be an invisible link, and when it gets that, it’ll start downloading the associated picture. What happens next?<br>\nSince these messages have already expired, when the read receipt comes in and gets decrypted, it’ll be deleted, but what if the associated picture is only half downloaded? Does signal wait for its queue to be caught up before downloading media attachments? (How could it know if the server queue is caught up?) Does it have to finish downloading a picture before immediately deleting it from the local database after “realizing” the message has expired, or can it just terminate a partial download?</p>\n<p>I used to think pictures were sent as regular signal messages, and I liked the idea that every linked device would always get the exact copy of data that every other device would get, and then handle it locally, but I guess there’s some pretty good arguments for having pictures be replaced by a secret download link.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2025-03-28T00:21:10.771Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 38,
        "readers_count": 37,
        "score": 12.6,
        "yours": false,
        "topic_id": 68059,
        "topic_slug": "what-happens-if-disappearing-messages-have-media-attachments",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1255,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/what-happens-if-disappearing-messages-have-media-attachments/68059/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 265430,
        "name": "",
        "username": "Megan",
        "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png",
        "created_at": "2025-04-06T10:53:32.906Z",
        "cooked": "<p>Hi,</p>\n<p>I believe that media (such as pictures of your dog) are stored locally and if a message disappears once the timer is over the message and data will be deleted from all devices.</p>\n<p>If for example you receive the message on your mobile phone and the timer is <strong>one hour</strong> the  message will disappear and once an other device - for example a computer - connects to the internet the message will not be downloaded as the timer has ended and the message disappeared.</p>\n<p>Does this answer your question a bit?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2025-04-06T10:53:32.906Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 27,
        "readers_count": 26,
        "score": 15.4,
        "yours": false,
        "topic_id": 68059,
        "topic_slug": "what-happens-if-disappearing-messages-have-media-attachments",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 31728,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/what-happens-if-disappearing-messages-have-media-attachments/68059/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 265472,
        "name": "",
        "username": "mrandr01d",
        "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png",
        "created_at": "2025-04-07T07:52:07.681Z",
        "cooked": "<p>No, not at all. I know what happens after the fact.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2025-04-07T07:52:07.681Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 24,
        "readers_count": 23,
        "score": 4.8,
        "yours": false,
        "topic_id": 68059,
        "topic_slug": "what-happens-if-disappearing-messages-have-media-attachments",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 31728,
          "username": "Megan",
          "name": "",
          "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1255,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/what-happens-if-disappearing-messages-have-media-attachments/68059/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 265473,
        "name": "",
        "username": "mrandr01d",
        "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png",
        "created_at": "2025-04-07T07:55:04.067Z",
        "cooked": "<p>And that’s also flat out incorrect. The linked devices will indeed download the disappeared messages, since they must be decrypted locally and the server has no idea which messages have a disappearing timer and which ones don’t.</p>\n<p>Each device has a separate queue on the server, and all messages in that queue must be downloaded and decrypted.</p>\n<p>If the timer has expired on the mobile phone, the desktop will download and decrypt all the messages still, and then once the read receipts come in for each message, the time remaining will be updated based on the read receipt, and then the message will be deleted locally if the time is expired.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2025-04-07T07:55:04.067Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 25,
        "readers_count": 24,
        "score": 10.0,
        "yours": false,
        "topic_id": 68059,
        "topic_slug": "what-happens-if-disappearing-messages-have-media-attachments",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 31728,
          "username": "Megan",
          "name": "",
          "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1255,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/what-happens-if-disappearing-messages-have-media-attachments/68059/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 265513,
        "name": "",
        "username": "Megan",
        "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png",
        "created_at": "2025-04-07T16:50:17.059Z",
        "cooked": "<p>Hmm, I should need to test that because didn’t know that.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2025-04-07T16:50:17.059Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 20,
        "readers_count": 19,
        "score": 4.0,
        "yours": false,
        "topic_id": 68059,
        "topic_slug": "what-happens-if-disappearing-messages-have-media-attachments",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1255,
          "username": "mrandr01d",
          "name": "",
          "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 31728,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/what-happens-if-disappearing-messages-have-media-attachments/68059/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      264569,
      265430,
      265472,
      265473,
      265513
    ]
  },
  "timeline_lookup": [
    [
      1,
      324
    ],
    [
      2,
      314
    ],
    [
      5,
      313
    ]
  ],
  "suggested_topics": [
    {
      "fancy_title": "Mixed-up contactslist in desktop version",
      "id": 69946,
      "title": "Mixed-up contactslist in desktop version",
      "slug": "mixed-up-contactslist-in-desktop-version",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2025-06-24T00:54:09.758Z",
      "last_posted_at": "2025-06-24T00:54:09.810Z",
      "bumped": true,
      "bumped_at": "2025-06-24T00:54:09.810Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 0,
      "views": 24,
      "category_id": 12,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 33264,
            "username": "Jobtendoeschate",
            "name": "Job ten Doeschate",
            "avatar_template": "/letter_avatar_proxy/v4/letter/j/edb3f5/{size}.png",
            "trust_level": 0
          }
        }
      ]
    },
    {
      "fancy_title": "No screenshot of Signal interface",
      "id": 69547,
      "title": "No screenshot of Signal interface",
      "slug": "no-screenshot-of-signal-interface",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2025-06-03T17:39:19.966Z",
      "last_posted_at": "2025-06-03T17:41:28.294Z",
      "bumped": true,
      "bumped_at": "2025-06-03T17:41:28.294Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 6,
      "views": 83,
      "category_id": 12,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": true,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 33110,
            "username": "Runschbert",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/r/85f322/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster, Accepted Answer",
          "user": {
            "id": 2521,
            "username": "Herohtar",
            "name": "",
            "avatar_template": "/user_avatar/community.signalusers.org/herohtar/{size}/43780_2.png",
            "primary_group_name": "volunteer_moderators",
            "flair_name": "volunteer_moderators",
            "flair_url": "shield-halved",
            "flair_bg_color": "1d8663",
            "flair_color": "fff",
            "flair_group_id": 41,
            "moderator": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Unable to Sync Contacts Through HTTP Proxy",
      "id": 69119,
      "title": "Unable to Sync Contacts Through HTTP Proxy",
      "slug": "unable-to-sync-contacts-through-http-proxy",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2025-05-13T00:10:03.655Z",
      "last_posted_at": "2025-05-13T00:10:03.702Z",
      "bumped": true,
      "bumped_at": "2025-05-13T00:10:03.702Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 0,
      "views": 33,
      "category_id": 12,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 32876,
            "username": "zicklag",
            "name": "Zicklag",
            "avatar_template": "/user_avatar/community.signalusers.org/zicklag/{size}/52185_2.png",
            "trust_level": 0
          }
        }
      ]
    }
  ],
  "tags_descriptions": {},
  "fancy_title": "What happens if disappearing messages have media attachments?",
  "id": 68059,
  "title": "What happens if disappearing messages have media attachments?",
  "posts_count": 5,
  "created_at": "2025-03-28T00:17:40.624Z",
  "views": 138,
  "reply_count": 3,
  "like_count": 0,
  "last_posted_at": "2025-04-07T16:50:17.059Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "what-happens-if-disappearing-messages-have-media-attachments",
  "category_id": 12,
  "word_count": 650,
  "deleted_at": null,
  "user_id": 1255,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_68059",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 5,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1255,
        "username": "mrandr01d",
        "name": "",
        "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 31728,
        "username": "Megan",
        "name": "",
        "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 1255,
      "username": "mrandr01d",
      "name": "",
      "avatar_template": "/letter_avatar_proxy/v4/letter/m/f08c70/{size}.png"
    },
    "last_poster": {
      "id": 31728,
      "username": "Megan",
      "name": "",
      "avatar_template": "/user_avatar/community.signalusers.org/megan/{size}/50954_2.png"
    }
  },
  "bookmarks": []
}