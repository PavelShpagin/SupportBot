{
  "post_stream": {
    "posts": [
      {
        "id": 268534,
        "name": "",
        "username": "EliasZ",
        "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png",
        "created_at": "2025-05-22T21:23:52.347Z",
        "cooked": "<p>I am preparing to work on the source code of Signal for the first time ever, hoping to fix some bugs. I am doing the steps on <a href=\"https://github.com/signalapp/Signal-Desktop/blob/main/CONTRIBUTING.md\" rel=\"noopener nofollow ugc\">this page</a>.</p>\n<p>I ran <code>pnpm test</code>, and it looked like it did a bunch of stuff, but then it printed <code>&gt; node ts/scripts/test-electron.js</code> in my terminal, and looked like it froze.</p>\n<p>The Electron app started, and it showed something like Chrome, with the dev tools open, with some errors in the console. The first one looked like this:<br>\n<code>dlopen(/Users/Elias/src/Signal-Desktop/node_modules/.pnpm/fs-xattr@0.3.0/node_modules/fs-xattr/build/Release/xattr.node, 0x0001): tried: '/Users/Elias/src/Signal-Desktop/node_modules/.pnpm/fs-xattr@0.3.0/node_modules/fs-xattr/build/Release/xattr.node' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64e' or 'arm64')), '/System/Volumes/Preboot/Cryptexes/OS/Users/Elias/src/Signal-Desktop/node_modules/.pnpm/fs-xattr@0.3.0/node_modules/fs-xattr/build/Release/xattr.node' (no such file), '/Users/Elias/src/Signal-Desktop/node_modules/.pnpm/fs-xattr@0.3.0/node_modules/fs-xattr/build/Release/xattr.node' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64e' or 'arm64'))</code></p>\n<p>And the last one looked like this:<br>\n<code>TypeError: Cannot read properties of undefined (reading 'events')</code></p>\n<p>There was a bunch of other stuff, including stack traces, which I can paste or upload somewhere if anyone wants, and if I can find a convenient way to export the data in the console.</p>\n<p>I terminated the process by pressing Ctrl+C in my terminal, then ran <code>pnpm test-electron</code> to see what would happen. The tests tried to run, but Electron started and froze, just like before.</p>\n<p>What can be done to fix this? I have a recent Mac laptop with an M2 chip, and it looks like it is unsuccessfully trying to run something specific to x86 instruction sets. But I’m not sure what to do about this.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-05-22T21:23:52.347Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 22,
        "readers_count": 21,
        "score": 34.4,
        "yours": false,
        "topic_id": 69321,
        "topic_slug": "problems-running-electron-tests-on-m2-mac",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/signalapp/Signal-Desktop/blob/main/CONTRIBUTING.md",
            "internal": false,
            "reflection": false,
            "title": "Signal-Desktop/CONTRIBUTING.md at main · signalapp/Signal-Desktop · GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 25851,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/problems-running-electron-tests-on-m2-mac/69321/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 268630,
        "name": "",
        "username": "EliasZ",
        "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png",
        "created_at": "2025-05-23T21:36:18.203Z",
        "cooked": "<p>I noticed that when I run <code>pnpm install</code>, I see some output like this in my terminal:</p>\n<pre><code class=\"lang-auto\">&gt; signal-desktop@7.58.0-alpha.1 electron:install-app-deps /Users/Elias/src/Signal-Desktop\n&gt; electron-builder install-app-deps\n\n  • electron-builder  version=26.0.14\n  • loaded configuration  file=package.json (\"build\" field)\n  • executing @electron/rebuild  electronVersion=36.2.1 arch=x64 buildFromSource=false appDir=./\n  • installing native dependencies  arch=x64\n  • preparing       moduleName=bufferutil arch=x64\n  • preparing       moduleName=utf-8-validate arch=x64\n  • preparing       moduleName=@indutny/mac-screen-share arch=x64\n  • preparing       moduleName=fs-xattr arch=x64\n  • finished        moduleName=bufferutil arch=x64\n  • finished        moduleName=utf-8-validate arch=x64\n  • finished        moduleName=fs-xattr arch=x64\n  • finished        moduleName=@indutny/mac-screen-share arch=x64\n  • completed installing native dependencies\n</code></pre>\n<p>I have a feeling it is mistakenly installing x64 versions of some packages, when it should install arm64 versions. But I don’t know why it is doing this, or what to do about it. I think I still need some help.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-05-23T21:36:18.203Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 17,
        "readers_count": 16,
        "score": 3.4,
        "yours": false,
        "topic_id": 69321,
        "topic_slug": "problems-running-electron-tests-on-m2-mac",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 25851,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/problems-running-electron-tests-on-m2-mac/69321/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 269110,
        "name": "",
        "username": "EliasZ",
        "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png",
        "created_at": "2025-06-02T20:58:19.179Z",
        "cooked": "<p>I asked about this <a href=\"https://github.com/signalapp/Signal-Desktop/issues/7359\" rel=\"noopener nofollow ugc\">here</a>, and I’m getting some help. It appears to be happening because I use fish as my shell, and it is running through Rosetta, making electron-builder think I’m using an older Mac with an Intel CPU, even though I’m using a newer Mac with an Apple Silicon CPU.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-06-02T20:58:19.179Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 11,
        "readers_count": 10,
        "score": 7.2,
        "yours": false,
        "topic_id": 69321,
        "topic_slug": "problems-running-electron-tests-on-m2-mac",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/signalapp/Signal-Desktop/issues/7359",
            "internal": false,
            "reflection": false,
            "title": "Can't build Signal on Apple Silicon Mac · Issue #7359 · signalapp/Signal-Desktop · GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 25851,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/problems-running-electron-tests-on-m2-mac/69321/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      268534,
      268630,
      269110
    ]
  },
  "timeline_lookup": [
    [
      1,
      268
    ],
    [
      2,
      267
    ],
    [
      3,
      257
    ]
  ],
  "suggested_topics": [
    {
      "fancy_title": "Help is needed for someone who wants to join the development",
      "id": 72905,
      "title": "Help is needed for someone who wants to join the development",
      "slug": "help-is-needed-for-someone-who-wants-to-join-the-development",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2025-11-14T14:49:55.091Z",
      "last_posted_at": "2025-11-16T14:15:49.188Z",
      "bumped": true,
      "bumped_at": "2025-11-16T14:15:49.188Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 0,
      "views": 142,
      "category_id": 23,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": true,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster, Accepted Answer",
          "user": {
            "id": 34817,
            "username": "igorklyopov",
            "name": "Igor Klyopov",
            "avatar_template": "/user_avatar/community.signalusers.org/igorklyopov/{size}/54657_2.png",
            "trust_level": 0
          }
        }
      ]
    },
    {
      "fancy_title": "How can I use the Electron debugger effectively when working on Signal?",
      "id": 69698,
      "title": "How can I use the Electron debugger effectively when working on Signal?",
      "slug": "how-can-i-use-the-electron-debugger-effectively-when-working-on-signal",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2025-06-11T23:25:14.072Z",
      "last_posted_at": "2025-06-19T05:30:36.971Z",
      "bumped": true,
      "bumped_at": "2025-06-19T05:30:36.971Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 0,
      "views": 53,
      "category_id": 23,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 25851,
            "username": "EliasZ",
            "name": "",
            "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Error starting in standalone",
      "id": 66739,
      "title": "Error starting in standalone",
      "slug": "error-starting-in-standalone",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2025-02-07T19:29:12.844Z",
      "last_posted_at": "2025-07-30T18:27:33.947Z",
      "bumped": true,
      "bumped_at": "2025-07-30T18:27:33.947Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags_descriptions": {},
      "like_count": 0,
      "views": 89,
      "category_id": 23,
      "featured_link": null,
      "op_like_count": 0,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 31689,
            "username": "tomasrl18",
            "name": "Tomás R.",
            "avatar_template": "/user_avatar/community.signalusers.org/tomasrl18/{size}/50651_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 33611,
            "username": "andrew1",
            "name": "Andrew",
            "avatar_template": "/letter_avatar_proxy/v4/letter/a/9de053/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 31811,
            "username": "desert_nip",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/d/ccd318/{size}.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "tags_descriptions": {},
  "fancy_title": "Problems running Electron tests on M2 Mac",
  "id": 69321,
  "title": "Problems running Electron tests on M2 Mac",
  "posts_count": 3,
  "created_at": "2025-05-22T21:23:52.287Z",
  "views": 69,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2025-06-02T20:58:19.179Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "problems-running-electron-tests-on-m2-mac",
  "category_id": 23,
  "word_count": 570,
  "deleted_at": null,
  "user_id": 25851,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_69321",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 1,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 25851,
        "username": "EliasZ",
        "name": "",
        "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 25851,
      "username": "EliasZ",
      "name": "",
      "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png"
    },
    "last_poster": {
      "id": 25851,
      "username": "EliasZ",
      "name": "",
      "avatar_template": "/user_avatar/community.signalusers.org/eliasz/{size}/42737_2.png"
    }
  },
  "bookmarks": []
}